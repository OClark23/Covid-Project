import React, { Component } from 'react';
import api, { getItemById } from '../api';
import { shared } from '../constants';
import styled from 'styled-components';
import ItemsPlain from './ItemsPlain';
import './itemPatient.css';
import {FaXRay,  FaHospitalUser, FaInfoCircle} from 'react-icons/fa';

//import ItemExamUpdate from './itemExamUpdate';


class itemPatientExam extends Component{
    constructor(props){
        super(props);
        /*
        this.state = {
            _id: '',
            name: '',
            gender: '',
            age: '',
            zip: '',
            priority: '',
            PatientImage: '',
        };
       */
       this.state = {
         _id: 0,
         PATIENT_ID: '',
         AGE: 0,
         SEX: "",
         RACE: "",
         ZIP: "",
         IMAGES: []
       }
    }

    componentDidMount() {
        const itemId = this.props.match.params.id;
        this.fetchSingleItem(itemId).then(resp => {
          console.log("Response: ", resp);
          const { patient } = resp.data;
          let images = resp.data.patient_image.map(image => {
            return image.PNG_FILENAME;
          })
          this.setState({ ...patient });
          this.setState({IMAGES: images});
        });
    };
        fetchSingleItem = itemId => {
            return api
              .getPatientById(itemId)
              .then(resp => {
                console.log('getItemById: resp');
                console.log(resp);
                return resp;
              })
              .catch(err => {
                console.error(`ERROR in 'fetchSingleItem': ${err}`);
                console.error(err);
                return err;
              });
          };
    
    render(){
        //const {_id, name, gender, age, zip, priority, PatientImage} = this.state;
        const {_id, PATIENT_ID, SEX, AGE, ZIP, IMAGES} = this.state;
        console.log("State:", this.state);
        return (
            _id && (
              <div className="ItemPage">
                <div >
             <svg width="410" height="50" viewBox="0 0 410 50" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M30.875 49H0.15625V4.1875H30.875V13.1562H9.125V22.125H23.8438V31.0938H9.125V40.0312H30.875V49ZM67.0625 49H56.625L49.9688 38.75L43.25 49H32.8125L45.0312 31.8438L32.8125 15.3438H43.25L49.9688 24.9375L56.625 15.3438H67.0625L54.8125 31.8438L67.0625 49ZM101.094 49H99.0312L95.7188 44.4062C94.9062 45.1354 94.0417 45.8229 93.125 46.4688C92.2292 47.0938 91.2812 47.6458 90.2812 48.125C89.2812 48.5833 88.25 48.9479 87.1875 49.2188C86.1458 49.4896 85.0833 49.625 84 49.625C81.6458 49.625 79.4271 49.2292 77.3438 48.4375C75.2812 47.6458 73.4688 46.5 71.9062 45C70.3646 43.4792 69.1458 41.625 68.25 39.4375C67.3542 37.25 66.9062 34.7604 66.9062 31.9688C66.9062 29.3646 67.3542 26.9792 68.25 24.8125C69.1458 22.625 70.3646 20.75 71.9062 19.1875C73.4688 17.625 75.2812 16.4167 77.3438 15.5625C79.4271 14.6875 81.6458 14.25 84 14.25C85.0833 14.25 86.1562 14.3854 87.2188 14.6562C88.2812 14.9271 89.3125 15.3021 90.3125 15.7812C91.3125 16.2604 92.2604 16.8229 93.1562 17.4688C94.0729 18.1146 94.9271 18.8125 95.7188 19.5625L99.0312 15.5938H101.094V49ZM92.5 31.9688C92.5 30.8021 92.2708 29.6771 91.8125 28.5938C91.375 27.4896 90.7708 26.5208 90 25.6875C89.2292 24.8333 88.3229 24.1562 87.2812 23.6562C86.2604 23.1354 85.1667 22.875 84 22.875C82.8333 22.875 81.7292 23.0729 80.6875 23.4688C79.6667 23.8646 78.7708 24.4479 78 25.2188C77.25 25.9896 76.6562 26.9479 76.2188 28.0938C75.7812 29.2188 75.5625 30.5104 75.5625 31.9688C75.5625 33.4271 75.7812 34.7292 76.2188 35.875C76.6562 37 77.25 37.9479 78 38.7188C78.7708 39.4896 79.6667 40.0729 80.6875 40.4688C81.7292 40.8646 82.8333 41.0625 84 41.0625C85.1667 41.0625 86.2604 40.8125 87.2812 40.3125C88.3229 39.7917 89.2292 39.1146 90 38.2812C90.7708 37.4271 91.375 36.4583 91.8125 35.375C92.2708 34.2708 92.5 33.1354 92.5 31.9688ZM150.188 49H141.688V27.75C141.688 27.1667 141.573 26.6146 141.344 26.0938C141.135 25.5729 140.833 25.1146 140.438 24.7188C140.042 24.3229 139.583 24.0208 139.062 23.8125C138.542 23.5833 137.99 23.4688 137.406 23.4688C136.823 23.4688 136.271 23.5833 135.75 23.8125C135.25 24.0208 134.802 24.3229 134.406 24.7188C134.031 25.1146 133.729 25.5729 133.5 26.0938C133.292 26.6146 133.188 27.1667 133.188 27.75V49H124.656V27.75C124.656 27.1667 124.542 26.6146 124.312 26.0938C124.104 25.5729 123.802 25.1146 123.406 24.7188C123.01 24.3229 122.552 24.0208 122.031 23.8125C121.51 23.5833 120.958 23.4688 120.375 23.4688C119.792 23.4688 119.24 23.5833 118.719 23.8125C118.219 24.0208 117.771 24.3229 117.375 24.7188C117 25.1146 116.698 25.5729 116.469 26.0938C116.26 26.6146 116.156 27.1667 116.156 27.75V49H107.625V15.5312H109.688L112 18.0938C113.188 17.0938 114.49 16.3229 115.906 15.7812C117.344 15.2188 118.833 14.9375 120.375 14.9375C121.938 14.9375 123.458 15.2292 124.938 15.8125C126.438 16.3958 127.75 17.4062 128.875 18.8438C129.396 18.1354 129.99 17.5312 130.656 17.0312C131.323 16.5312 132.021 16.125 132.75 15.8125C133.5 15.5 134.271 15.2812 135.062 15.1562C135.854 15.0104 136.635 14.9375 137.406 14.9375C139.177 14.9375 140.833 15.2708 142.375 15.9375C143.938 16.6042 145.292 17.5208 146.438 18.6875C147.604 19.8333 148.521 21.1875 149.188 22.75C149.854 24.3125 150.188 25.9792 150.188 27.75V49ZM174.812 49H155.312V40.5H174.812C175.396 40.5 175.896 40.2917 176.312 39.875C176.729 39.4583 176.938 38.9583 176.938 38.375C176.938 37.7708 176.729 37.375 176.312 37.1875C175.896 37 175.396 36.9062 174.812 36.9062H165.938C164.458 36.9062 163.073 36.625 161.781 36.0625C160.49 35.5 159.365 34.7396 158.406 33.7812C157.448 32.8021 156.688 31.6667 156.125 30.375C155.583 29.0833 155.312 27.6979 155.312 26.2188C155.312 24.7396 155.583 23.3542 156.125 22.0625C156.688 20.7708 157.448 19.6458 158.406 18.6875C159.365 17.7292 160.49 16.9792 161.781 16.4375C163.073 15.875 164.458 15.5938 165.938 15.5938H183.219V24.0938H165.938C165.354 24.0938 164.854 24.3021 164.438 24.7188C164.021 25.1354 163.812 25.6354 163.812 26.2188C163.812 26.8229 164.021 27.3438 164.438 27.7812C164.854 28.1979 165.354 28.4062 165.938 28.4062H174.812C176.271 28.4062 177.646 28.6562 178.938 29.1562C180.229 29.6354 181.354 30.3125 182.312 31.1875C183.271 32.0625 184.031 33.1146 184.594 34.3438C185.156 35.5729 185.438 36.9167 185.438 38.375C185.438 39.8542 185.156 41.2396 184.594 42.5312C184.031 43.8021 183.271 44.9271 182.312 45.9062C181.354 46.8646 180.229 47.625 178.938 48.1875C177.646 48.7292 176.271 49 174.812 49ZM244.75 26.5938C244.75 28.6562 244.479 30.6458 243.938 32.5625C243.417 34.4583 242.667 36.2396 241.688 37.9062C240.708 39.5521 239.542 41.0625 238.188 42.4375C236.833 43.7917 235.323 44.9583 233.656 45.9375C231.99 46.9167 230.198 47.6771 228.281 48.2188C226.385 48.7396 224.406 49 222.344 49H208.844V4.1875H222.344C224.406 4.1875 226.385 4.45833 228.281 5C230.198 5.52083 231.99 6.27083 233.656 7.25C235.323 8.22917 236.833 9.40625 238.188 10.7812C239.542 12.1354 240.708 13.6458 241.688 15.3125C242.667 16.9583 243.417 18.7396 243.938 20.6562C244.479 22.5521 244.75 24.5312 244.75 26.5938ZM235.781 26.5938C235.781 24.7396 235.427 23 234.719 21.375C234.031 19.75 233.073 18.3333 231.844 17.125C230.635 15.8958 229.208 14.9271 227.562 14.2188C225.938 13.5104 224.198 13.1562 222.344 13.1562H217.875V40.0312H222.344C224.198 40.0312 225.938 39.6875 227.562 39C229.208 38.2917 230.635 37.3333 231.844 36.125C233.073 34.8958 234.031 33.4688 234.719 31.8438C235.427 30.1979 235.781 28.4479 235.781 26.5938ZM263.125 40.8125C263.458 40.9167 263.792 40.9896 264.125 41.0312C264.458 41.0521 264.792 41.0625 265.125 41.0625C265.958 41.0625 266.76 40.9479 267.531 40.7188C268.302 40.4896 269.021 40.1667 269.688 39.75C270.375 39.3125 270.979 38.7917 271.5 38.1875C272.042 37.5625 272.479 36.875 272.812 36.125L279.062 42.4062C278.271 43.5312 277.354 44.5417 276.312 45.4375C275.292 46.3333 274.177 47.0938 272.969 47.7188C271.781 48.3438 270.521 48.8125 269.188 49.125C267.875 49.4583 266.521 49.625 265.125 49.625C262.771 49.625 260.552 49.1875 258.469 48.3125C256.406 47.4375 254.594 46.2188 253.031 44.6562C251.49 43.0938 250.271 41.2396 249.375 39.0938C248.479 36.9271 248.031 34.5521 248.031 31.9688C248.031 29.3229 248.479 26.9062 249.375 24.7188C250.271 22.5312 251.49 20.6667 253.031 19.125C254.594 17.5833 256.406 16.3854 258.469 15.5312C260.552 14.6771 262.771 14.25 265.125 14.25C266.521 14.25 267.885 14.4167 269.219 14.75C270.552 15.0833 271.812 15.5625 273 16.1875C274.208 16.8125 275.333 17.5833 276.375 18.5C277.417 19.3958 278.333 20.4062 279.125 21.5312L263.125 40.8125ZM267.5 23.2188C267.104 23.0729 266.708 22.9792 266.312 22.9375C265.938 22.8958 265.542 22.875 265.125 22.875C263.958 22.875 262.854 23.0938 261.812 23.5312C260.792 23.9479 259.896 24.5521 259.125 25.3438C258.375 26.1354 257.781 27.0938 257.344 28.2188C256.906 29.3229 256.688 30.5729 256.688 31.9688C256.688 32.2812 256.698 32.6354 256.719 33.0312C256.76 33.4271 256.812 33.8333 256.875 34.25C256.958 34.6458 257.052 35.0312 257.156 35.4062C257.26 35.7812 257.396 36.1146 257.562 36.4062L267.5 23.2188ZM300.219 49C298.156 49 296.219 48.6146 294.406 47.8438C292.594 47.0521 291 45.9792 289.625 44.625C288.271 43.25 287.198 41.6562 286.406 39.8438C285.635 38.0312 285.25 36.0938 285.25 34.0312V24.0938H281.094V15.5938H285.25V2.21875H293.75V15.5938H306.688V24.0938H293.75V34.0312C293.75 34.9271 293.917 35.7708 294.25 36.5625C294.583 37.3333 295.042 38.0104 295.625 38.5938C296.208 39.1771 296.896 39.6458 297.688 40C298.479 40.3333 299.323 40.5 300.219 40.5H306.688V49H300.219ZM343.906 49H341.844L338.531 44.4062C337.719 45.1354 336.854 45.8229 335.938 46.4688C335.042 47.0938 334.094 47.6458 333.094 48.125C332.094 48.5833 331.062 48.9479 330 49.2188C328.958 49.4896 327.896 49.625 326.812 49.625C324.458 49.625 322.24 49.2292 320.156 48.4375C318.094 47.6458 316.281 46.5 314.719 45C313.177 43.4792 311.958 41.625 311.062 39.4375C310.167 37.25 309.719 34.7604 309.719 31.9688C309.719 29.3646 310.167 26.9792 311.062 24.8125C311.958 22.625 313.177 20.75 314.719 19.1875C316.281 17.625 318.094 16.4167 320.156 15.5625C322.24 14.6875 324.458 14.25 326.812 14.25C327.896 14.25 328.969 14.3854 330.031 14.6562C331.094 14.9271 332.125 15.3021 333.125 15.7812C334.125 16.2604 335.073 16.8229 335.969 17.4688C336.885 18.1146 337.74 18.8125 338.531 19.5625L341.844 15.5938H343.906V49ZM335.312 31.9688C335.312 30.8021 335.083 29.6771 334.625 28.5938C334.188 27.4896 333.583 26.5208 332.812 25.6875C332.042 24.8333 331.135 24.1562 330.094 23.6562C329.073 23.1354 327.979 22.875 326.812 22.875C325.646 22.875 324.542 23.0729 323.5 23.4688C322.479 23.8646 321.583 24.4479 320.812 25.2188C320.062 25.9896 319.469 26.9479 319.031 28.0938C318.594 29.2188 318.375 30.5104 318.375 31.9688C318.375 33.4271 318.594 34.7292 319.031 35.875C319.469 37 320.062 37.9479 320.812 38.7188C321.583 39.4896 322.479 40.0729 323.5 40.4688C324.542 40.8646 325.646 41.0625 326.812 41.0625C327.979 41.0625 329.073 40.8125 330.094 40.3125C331.135 39.7917 332.042 39.1146 332.812 38.2812C333.583 37.4271 334.188 36.4583 334.625 35.375C335.083 34.2708 335.312 33.1354 335.312 31.9688ZM360.5 6.4375C360.5 7.22917 360.344 7.96875 360.031 8.65625C359.74 9.34375 359.333 9.94792 358.812 10.4688C358.292 10.9688 357.677 11.375 356.969 11.6875C356.281 11.9792 355.542 12.125 354.75 12.125C353.958 12.125 353.208 11.9792 352.5 11.6875C351.812 11.375 351.208 10.9688 350.688 10.4688C350.188 9.94792 349.781 9.34375 349.469 8.65625C349.177 7.96875 349.031 7.22917 349.031 6.4375C349.031 5.66667 349.177 4.9375 349.469 4.25C349.781 3.54167 350.188 2.9375 350.688 2.4375C351.208 1.91667 351.812 1.51042 352.5 1.21875C353.208 0.90625 353.958 0.75 354.75 0.75C355.542 0.75 356.281 0.90625 356.969 1.21875C357.677 1.51042 358.292 1.91667 358.812 2.4375C359.333 2.9375 359.74 3.54167 360.031 4.25C360.344 4.9375 360.5 5.66667 360.5 6.4375ZM359.031 49H350.438V15.5312H359.031V49ZM374.156 49H365.562V2.21875H374.156V49ZM399.062 49H379.562V40.5H399.062C399.646 40.5 400.146 40.2917 400.562 39.875C400.979 39.4583 401.188 38.9583 401.188 38.375C401.188 37.7708 400.979 37.375 400.562 37.1875C400.146 37 399.646 36.9062 399.062 36.9062H390.188C388.708 36.9062 387.323 36.625 386.031 36.0625C384.74 35.5 383.615 34.7396 382.656 33.7812C381.698 32.8021 380.938 31.6667 380.375 30.375C379.833 29.0833 379.562 27.6979 379.562 26.2188C379.562 24.7396 379.833 23.3542 380.375 22.0625C380.938 20.7708 381.698 19.6458 382.656 18.6875C383.615 17.7292 384.74 16.9792 386.031 16.4375C387.323 15.875 388.708 15.5938 390.188 15.5938H407.469V24.0938H390.188C389.604 24.0938 389.104 24.3021 388.688 24.7188C388.271 25.1354 388.062 25.6354 388.062 26.2188C388.062 26.8229 388.271 27.3438 388.688 27.7812C389.104 28.1979 389.604 28.4062 390.188 28.4062H399.062C400.521 28.4062 401.896 28.6562 403.188 29.1562C404.479 29.6354 405.604 30.3125 406.562 31.1875C407.521 32.0625 408.281 33.1146 408.844 34.3438C409.406 35.5729 409.688 36.9167 409.688 38.375C409.688 39.8542 409.406 41.2396 408.844 42.5312C408.281 43.8021 407.521 44.9271 406.562 45.9062C405.604 46.8646 404.479 47.625 403.188 48.1875C401.896 48.7292 400.521 49 399.062 49Z" fill="white"/>
</svg>
</div>

            <div className="ItemContainer">
              <div className="ItemPatient">

                <h1 className="card-title"><FaHospitalUser size={34} color={"green"}/>Patient</h1>
            
                <div className="ItemText">
                <h4>ID:</h4>
                <h4>{_id}</h4>
                </div>
                <div className="ItemText">
                <h4>Sex:</h4>
                <h4>{SEX}</h4>
                </div>
                <div className="ItemText">
                <h4>Age:</h4>
                <h4>{AGE}</h4>
                </div>
                <div className="ItemText">
                <h4>Zip Code:</h4>
        
                <h4>{ZIP}</h4>
                </div>
                </div>
                

                <div className="ItemExam">
                <h1 className="card-title"><FaXRay size={34}/>Exam</h1>
                <div className="ItemText">
                <h4>Exam ID:</h4>
                <h4>Exam-2</h4>
                </div>
                <div className="ItemText">
                <h4>Date:</h4>
                <h4>April 1, 2022</h4>
                </div>
                <div className="ItemText">
                <h4>Brixia Score:</h4>
                <h4>..</h4>
                </div>
                <div className="ItemText">
                <h4>Key Finding: </h4>
                <h4>{AGE}</h4>
                </div>
                <div className="ItemText">
                <h4>Zip Code:</h4>
                <h4>{ZIP}</h4>
                </div>
                </div>
                                   
                <div className="ExamPhoto">
                <img src={`https://ohif-hack-diversity-covid.s3.amazonaws.com/covid-png/${IMAGES[0]}`}></img>
                </div>
                   </div>
            </div>
        ));
       }

       /*
            <div className="examUpdate">
                <h1 className="card-title">Update Exam</h1>
                
                <h1><ItemExamUpdate/></h1>
                </div>
        */
      
       
    };

    export default itemPatientExam;